# just to satisfy schema validation
backend: { name: "" }
media_folder: ""

# content types
typo: &typo
  name: typo
  label: Typografie
  widget: object
  fields:
    - name: heading
      label: Überschrift
      widget: object
      fields:
        - name: text
          label: Text
          widget: text
        - name: level
          label: Ebene
          widget: number
          default: 1
          min: 1
          max: 6
        - name: style
          label: Variante
          widget: select
          default: none
          options:
            - { label: Ohne, value: none }
            - { label: Titel, value: title }
    - name: text
      label: Text
      widget: object
      required: false
      fields:
        - name: text
          label: Text
          widget: markdown
          required: false
          minimal: true
          buttons: [link]
        - name: style
          label: Variante
          widget: select
          required: false
          default: body
          options:
            - { label: Hervorgehoben, value: lead }
            - { label: Fließtext, value: body }

teaser: &teaser
  name: teaser
  label: Teaser
  widget: object
  fields:
    - name: scope
      label: Umfang
      widget: select
      options:
        - { label: "Nächste Veranstaltung", value: next }
        - { label: "Bisherige Veranstaltungen", value: past }
        - { label: "Alle Veranstaltungen", value: all }

# section type
section: &section
  name: section
  label: Abschnitt
  widget: object
  fields:
    - name: title
      label: Titel
      widget: string
    - name: slug
      label: URL-Slug
      widget: string
    - name: theme
      label: Farbschema
      widget: select
      options:
        - { label: "Dunkel (anthrazit)", value: dark }
        - { label: "Hell (cyan)", value: light }
    - name: contents
      label: Inhalte
      label_singular: Inhalt
      widget: list
      types:
        - <<: *teaser
        - <<: *typo

# pages collection
collections:
  - name: pages
    label: Seiten
    label_singular: Seite
    description: "Sichtbare Seiten der Website mit ihrer Struktur und Inhalten."
    folder: "packages/website/src/content/pages"
    create: true
    summary: "{{title}}"
    fields:
      - name: title
        label: Titel
        widget: string
      - name: blocks
        label: Blöcke
        label_singular: Block
        widget: list
        types:
          - <<: *section
