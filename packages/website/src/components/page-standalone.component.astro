---
import { getEntryBySlug } from 'astro:content';
import { getCollectionParams } from '@utils/collection.utils';

import Title from '@components/title.component.astro';
import Text from '@components/text.component.astro';

const { path } = Astro.params;
const { collection, slug } = getCollectionParams(path);

const current = await getEntryBySlug(collection!, slug!);
const { Content } = await current!.render();
---

<kvlm-content
  style={`
    --kvlm-content-background: ${current!.data.background};
    --kvlm-section-color: ${current!.data.color};
  `}
>
  <kvlm-typo>
    <Content components={{ h1: Title, p: Text }} />
  </kvlm-typo>
</kvlm-content>
